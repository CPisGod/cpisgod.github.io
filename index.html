<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>급식 정보 앱</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- 홈 화면 -->
        <div id="homeScreen" class="screen home-screen">
            <div class="date-header" id="homeDate">2025.01.01</div>
            
            <div class="menu-buttons">
                <button class="menu-button" onclick="showTimetableScreen()">시간표</button>
            </div>
            
            <div class="calendar">
                <div class="calendar-header">
                    <button class="month-nav" onclick="changeMonth(-1)">◀</button>
                    <div class="month-info">
                        <div id="calendarMonth">January</div>
                        <div class="calendar-month" id="calendarYear">2025.01</div>
                    </div>
                    <button class="month-nav" onclick="changeMonth(1)">▶</button>
                </div>
                
                <div class="weekdays">
                    <div class="weekday sun">SUN</div>
                    <div class="weekday mon">MON</div>
                    <div class="weekday tue">TUE</div>
                    <div class="weekday wed">WED</div>
                    <div class="weekday thu">THU</div>
                    <div class="weekday fri">FRI</div>
                    <div class="weekday sat">SAT</div>
                </div>
                
                <div class="calendar-grid" id="calendarGrid">
                    <!-- 캘린더 날짜들이 여기에 생성됩니다 -->
                </div>
            </div>
            
            <div class="dday-section">
                <div class="dday-title">D-DAY</div>
                <div class="dday-container" id="ddayContainer">
                    <div class="dday-box empty-dday">등록된 D-Day가 없습니다</div>
                </div>
                <button class="add-button" onclick="openDdayModal()">+</button>
            </div>
        </div>

        <!-- 급식 화면 -->
        <div id="mealScreen" class="screen meal-screen">
            <div class="navigation">
                <button class="nav-button" onclick="changeDate(-1)">◀ 이전</button>
                <button class="nav-button" onclick="changeDate(1)">다음 ▶</button>
            </div>
            
            <div class="date-header" id="mealDate">2025.09.01</div>
            
            <div id="mealContainer">
                <div class="meal-section" data-meal-type="1">
                    <div class="meal-card">
                        <div class="meal-title">조식</div>
                        <div class="meal-content">
                            <div class="loading">급식 정보를 불러오는 중...</div>
                        </div>
                    </div>
                </div>
                
                <div class="meal-section" data-meal-type="2">
                    <div class="meal-card">
                        <div class="meal-title">중식</div>
                        <div class="meal-content">
                            <div class="loading">급식 정보를 불러오는 중...</div>
                        </div>
                    </div>
                </div>
                
                <div class="meal-section" data-meal-type="3">
                    <div class="meal-card">
                        <div class="meal-title">석식</div>
                        <div class="meal-content">
                            <div class="loading">급식 정보를 불러오는 중...</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="home-button" onclick="showHomeScreen()">🏠</button>
        </div>

        <!-- 시간표 화면 -->
        <div id="timetableScreen" class="screen timetable-screen">
            <!-- 학년/반 입력 화면 -->
            <div id="gradeClassInput" class="grade-class-input">
                <div class="input-header">
                    <h2>시간표 정보 입력</h2>
                    <p>학년과 반을 입력해주세요</p>
                </div>
                
                <div class="input-form">
                    <div class="input-group">
                        <label for="gradeInput">학년</label>
                        <select id="gradeInput">
                            <option value="">선택하세요</option>
                            <option value="1">1학년</option>
                            <option value="2">2학년</option>
                            <option value="3">3학년</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="classInput">반</label>
                        <input type="number" id="classInput" placeholder="반을 입력하세요 (1-20)" min="1" max="20">
                    </div>
                    
                    <div class="input-buttons">
                        <button class="input-button cancel" onclick="showHomeScreen()">취소</button>
                        <button class="input-button confirm" onclick="validateAndShowTimetable()">확인</button>
                    </div>
                </div>
                
                <div id="inputError" class="input-error" style="display: none;">
                    올바른 학년과 반을 입력해주세요.
                </div>
            </div>

            <!-- 시간표 표시 화면 -->
            <div id="timetableDisplay" class="timetable-display" style="display: none;">
                <div class="timetable-header">
                    <div class="class-info" id="classInfo">2학년 4반</div>
                    <button class="settings-button" onclick="showGradeClassInput()">⚙️</button>
                </div>
                
                <div class="week-navigation">
                    <button class="nav-button" onclick="changeWeek(-1)">◀ 이전주</button>
                    <div class="week-info" id="weekInfo">01.06 ~ 01.10</div>
                    <button class="nav-button" onclick="changeWeek(1)">다음주 ▶</button>
                </div>
                
                <div class="timetable-container">
                    <table class="timetable" id="timetableTable">
                        <thead>
                            <tr>
                                <th class="time-cell">시간</th>
                                <th>월</th>
                                <th>화</th>
                                <th>수</th>
                                <th>목</th>
                                <th>금</th>
                            </tr>
                        </thead>
                        <tbody id="timetableBody">
                            <!-- 시간표 내용이 여기에 생성됩니다 -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <button class="home-button" onclick="showHomeScreen()">🏠</button>
        </div>
    </div>

    <!-- D-Day 입력 모달 -->
    <div id="ddayModal" class="modal">
        <div class="modal-content">
            <h3>D-Day 추가</h3>
            <input type="text" id="ddayTitle" placeholder="제목을 입력하세요">
            <input type="date" id="ddayDate">
            <div class="modal-buttons">
                <button class="modal-button cancel" onclick="closeDdayModal()">취소</button>
                <button class="modal-button save" onclick="saveDday()">저장</button>
            </div>
        </div>
    </div>

    <script src="home.js"></script>
    <script src="meal.js"></script>
    <script src="timetable.js"></script>
    <script src="app.js"></script>
</body>
</html>